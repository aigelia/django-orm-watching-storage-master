# Пульт охраны #

Веб-приложение, отслеживающее активные сотрудников банка в базе данных, а также регистрирующее все визиты сотрудников, их продолжительность и сотрудников, находящихся в хранилище на настоящий момент.

## Установка ##

Установите Python версии 3.10 в директорию проекта, а затем - зависимости.

```bash
pip install -r requirements.txt
````

Создайте файл `.env` рядом с `manage.py` и добавьте в него переменные окружения. В качестве шаблона можно использовать файл .env.example в директории проекта. Каждая переменная влияет на работу приложения следующим образом:

- `DB_HOST`  
  - **Что хранит:** адрес (хост) сервера базы данных, к которой подключается скрипт (например, `localhost` или IP-адрес).  
  - **Как влияет:** по этому адресу Django-ORM будет искать СУБД. Если указано неверно, соединение не установится.

- `DB_PORT`  
  - **Что хранит:** порт, на котором работает сервер базы данных (для PostgreSQL это чаще всего `5432`).  
  - **Как влияет:** по этому порту приложение пытается связаться с базой. Неправильный порт приведёт к ошибке подключения.

- `DB_NAME`  
  - **Что хранит:** имя конкретной базы данных (в СУБД), в которой располагается таблица пропусков сотрудников.  
  - **Как влияет:** Django-ORM будет выполнять запросы к указанной БД. Если база с таким именем отсутствует, приложение не сможет прочитать или записать данные.

- `DB_USER`  
  - **Что хранит:** логин (имя) пользователя, от имени которого происходит подключение к базе данных.  
  - **Как влияет:** права доступа к таблицам и схемам зависят от этого пользователя. Если учётная запись не существует или у неё нет прав, соединение будет отклонено.

- `DB_PASSWORD`  
  - **Что хранит:** пароль пользователя БД, соответствующий `DB_USER`.  
  - **Как влияет:** вместе с `DB_USER` используется для аутентификации при подключении. Если пароль неверный, соединение не установится.

- `SECRET_KEY`  
  - **Что хранит:** секретная строка для Django (используется внутри кода для шифрования, подписей и защиты данных).  
  - **Как влияет:** при отсутствии или некорректном значении Django может не запуститься, а некоторые механизмы безопасности (подпись cookie, генерация токенов и т. д.) не будут работать.

- `DEBUG`  
  - **Что хранит:** информацию о режиме дебага.  
  - **Как влияет:** по умолчанию - False; если указано True - активирует режим дебага и отображает все ошибки, возникающие при работе сайта.

## Запуск ##

```bash
python manage.py runserver 0.0.0.0:8000
```

Откройте в браузере [http://127.0.0.1:8000](http://127.0.0.1:8000)

## Функционал приложения ##

* Показывает список активных пропусков сотрудников
* Отображает тех, кто находится в хранилище в данный момент
* Отображает все визиты в хранилище, их дату и время, а также продолжительность по каждому сотруднику
* Отмечает сотрудников, чьи визиты в хранилище продолжаются необычно долго (дольше 60 минут)

## Цель проекта ##

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).